# Lievre

<LievreScreen>
    on_pre_enter: zbarcam2.start()
    on_pre_leave: zbarcam2.stop()
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            size_hint: 1, .3
            Label:
                text: ', '.join([str(symbol.data) for symbol in zbarcam2.symbols])
            Label:
                id: timer
                text: str(30)
            Label:
                id: answer
                text: "mot de passe : " + str(zbarcam2.bullshit)
        ZBarCam:
            id: zbarcam2
            # optional, by default checks all types
            # code_types: ZBarSymbol.QRCODE, ZBarSymbol.EAN13
        Button:
            id: btn_0
            size_hint: 1, .3
            text: "démarrer l'épreuve"
            on_press: root.set()

<DessinScreen>
    FloatLayout:
        MapView:
            id: map
            lat: 48.8422
            lon: 2.38765
            zoom: 18
            MapMarkerPopup:
                id: point_1
                source: "./resources/images/gpsmarker_next.png"
                lon: 2.388240
                lat: 48.84208
                on_press: root.try_reveal_next(1)

#            MapMarkerPopup:
#                id: point_1_ref1
#                source: "./resources/images/gpsmarker.png"
#                lon: 2.388240-0.00006
#                lat: 48.84208-0.00006
#            MapMarkerPopup:
#                id: point_1_ref1
#                source: "./resources/images/gpsmarker.png"
#                lon: 2.388240+0.00006
#                lat: 48.84208-0.00006
#            MapMarkerPopup:
#                id: point_1_ref1
#                source: "./resources/images/gpsmarker.png"
#                lon: 2.388240-0.00006
#                lat: 48.84208+0.00006
#            MapMarkerPopup:
#                id: point_1_ref1
#                source: "./resources/images/gpsmarker.png"
#                lon: 2.388240+0.00006
#                lat: 48.84208+0.00006

            MapMarkerPopup:
                id: point_2
                source: "./resources/images/gpsmarker_hidden.png"
                lon: 2.38784
                lat: 48.84223
                on_press: root.try_reveal_next(2)

            MapMarkerPopup:
                id: point_3
                source: "./resources/images/gpsmarker_hidden.png"
                lon: 2.38848
                lat: 48.84286
                on_press: root.try_reveal_next(3)

            MapMarkerPopup:
                id: point_4
                source: "./resources/images/gpsmarker_hidden.png"
                lon: 2.38811
                lat: 48.84299
                on_press: root.try_reveal_next(4)

            MapMarkerPopup:
                id: point_5
                source: "./resources/images/gpsmarker_hidden.png"
                lon: 2.38743
                lat: 48.84239
                on_press: root.try_reveal_next(5)

            MapMarkerPopup:
                id: point_6
                source: "./resources/images/gpsmarker_hidden.png"
                lon: 2.38710
                lat: 48.84253
                on_press: root.try_reveal_next(6)

            MapMarkerPopup:
                id: point_7
                source: "./resources/images/gpsmarker_hidden.png"
                lon: 2.38717
                lat: 48.84197
                on_press: root.try_reveal_next(7)

            MapMarkerPopup:
                id: player
                source: "./resources/images/playermarker.png"
                lon: 2.387217
                lat: 48.841971

        Widget:
            Button:
                id: centerbutton
                size: 128, 128
                pos: root.width - 128, 10
                disabled: True
                background_normal: './resources/images/past_disabled.png'
                background_down: './resources/images/past_disabled.png'
                background_disabled_normal: './resources/images/past_disabled.png'
                on_press:
                    root.ids['map'].lon = 2.38765
                    root.ids['map'].lat = 48.8422
                    root.ids['map'].zoom: 18

#            Label:
#                id: lat
#                pos: root.width - 1000, 1O
#                text: "bite"
#            Label:
#                id: lon
#                pos : root.width - 600, 10
#                text: "poil"